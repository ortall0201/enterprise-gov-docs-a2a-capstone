version: '3.8'

services:
  docs-translator-a2a:
    build:
      context: .
      dockerfile: Dockerfile
    container_name: docs-translator-a2a
    ports:
      - "8001:8001"
    environment:
      # OpenAI Configuration
      - OPENAI_API_KEY=${OPENAI_API_KEY}
      - OPENAI_MODEL=${OPENAI_MODEL:-gpt-4o}

      # Service Configuration
      - A2A_SERVICE_HOST=0.0.0.0
      - A2A_SERVICE_PORT=8001
      - LOG_LEVEL=${LOG_LEVEL:-INFO}

      # Vendor Information
      - VENDOR_NAME=${VENDOR_NAME:-Docs Translator}
      - VENDOR_URL=${VENDOR_URL:-https://docs-translator.onrender.com}
      - VENDOR_CONTACT=${VENDOR_CONTACT:-support@docs-translator.com}

    volumes:
      # Mount source for development (comment out for production)
      - ./src:/app/src

    restart: unless-stopped

    networks:
      - a2a-network

    # Resource limits (adjust as needed)
    deploy:
      resources:
        limits:
          cpus: '2.0'
          memory: 2G
        reservations:
          cpus: '0.5'
          memory: 512M

networks:
  a2a-network:
    driver: bridge
